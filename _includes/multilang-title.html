{%- assign tsize = include.title | size -%}
{%- for t in include.title -%}
  {%- if forloop.index == 2 %}<span class="subtitle"> ({%- endif -%}
  {%- assign thislangurl = false -%}
  {%- for u in include.url -%}
    {%- if u[0] == t[0] -%}
      {%- assign thislangurl = u[1] -%}
    {%- endif -%}
  {%- endfor -%}
  {%- if thislangurl -%}
    {%- assign lng = t[0] -%}
<a href="{{thislangurl}}" hreflang="{{t[0]}}">
      {%- unless lng == "en" -%}
[{{site.data.lang[lng].name}}/<span lang="{{lng}}">{{site.data.lang[lng].nativeName}}</span>]
      {%- endunless -%}
<span lang="{{lng}}">
  {%- else -%}
<span lang="{{t[0]}}">
  {%- endif -%}
  {{- t[1] | xml_escape -}}
</span>
  {%- if thislangurl -%}
    {%- if include.external -%}
      {%- include_cached icon.html name="external-link" label="External Site" -%}
    {%- endif -%}
</a>
  {%- endif -%}
  {%- unless forloop.first -%}
    {%- unless forloop.last %}, {% endunless -%}
    {%- if forloop.last %})</span>{% endif -%}
  {%- endunless -%}
{%- endfor -%}